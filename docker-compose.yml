services:
  web-frontend:
    build:
      context: ./tiling-frontend
      dockerfile: Dockerfile
    volumes:
      - tiling_frontend_build:/usr/src/app/dist
  obs:
    build:
      context: ./obs
      dockerfile: Dockerfile
    volumes:
      - tiling_frontend_build:/home/obs/html
    environment:
      OBSWS_PASSWORD: ${OBSWS_PASSWORD}
      YT_STREAM_KEY: ${YT_STREAM_KEY}
  mediamtx:
    network_mode: host
    image: docker.io/bluenviron/mediamtx
volumes:
  tiling_frontend_build:
